<html>
<head>
    <meta name="viewport" content="width=device-width" >
    <link rel="stylesheet" type="text/css" href="css/rotation.css">
</head>

<body>
    <!-- <button onclick="startGame()" id="startButton">Restart</button>
    <input type="text" ; id="scoore" ; value=>
    <canvas id="cvs" width="20010" height="850" style="border:5px solid black;"></canvas> -->
    <canvas id="cvs"></canvas>
</body>
        
<script>
    window.addEventListener('resize', resizeCanvas, false);

    resizeCanvas();

    function resizeCanvas(){
        let canvas = document.getElementById("cvs");
        canvas.width = Math.max(window.innerWidth, window.innerHeight);
        canvas.height = Math.min(window.innerWidth, window.innerHeight);
    }
    

    
    let canvas = document.getElementById("cvs"), ctx = canvas.getContext("2d");
    ctx.fillStyle = "blue"; 
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    let imgPe1 = new Image; imgPe1.src = 'P_boy.png';
    
    /* cloud */
    let cloud = new Image; cloud.src = 'P_cloud.png';

    /* nvh */
    let nvhpic = new Image; nvhpic.src = 'P_nuh.png';

    /* lamp */
    let lamppic = new Image; lamppic.src = 'P_Lamp.png';

    /* baishin */
    let baishinpic = new Image; baishinpic.src = 'P_baishin.png';

    /* shavar */
    let shavarpic = new Image; shavarpic.src = 'P_shavar.png';

    /* dog */
    let dogpic = new Image; dogpic.src = 'P_dog.png';

    /* shalbaag */
    let dirt = new Image; dirt.src = 'P_shavar.png';

    let land = new Image; land.src = 'P_land.png';

    

    let clouds = [{x: 500, y: 50, w: 400, h: 200},{x: 1000, y: 50, w: 300, h: 150}, {x: 1500, y: 50, w: 400, h: 200}];
    
    let dirts = [{x: 1800, y: 700, w: 80, h: 80}];
    
    let boy = [{x: 5, y: 0.6 * parseInt(canvas.height), height: 0.15 * parseInt(canvas.height), width: 0.2 * parseInt(canvas.height) * 1}];
    
    let lands = [{x: 0, y: 0.75 * parseInt(canvas.height), h: 0.15 * parseInt(canvas.height), w: 1 * parseInt(canvas.height) * 1}, {x: parseInt(canvas.height), y: 0.75 * parseInt(canvas.height), h: 0.15 * parseInt(canvas.height), w: 1 * parseInt(canvas.height) * 1}];

    let baishins = [{x: 500, y: 50, w: 200, h: 100},{x: 1000, y: 50, w: 300, h: 150}, {x: 1500, y: 50, w: 400, h: 200}];
    
    let dogs = [{x: 500, y: 50, w: 400, h: 200},{x: 1000, y: 50, w: 300, h: 150}, {x: 1500, y: 50, w: 400, h: 200}];
    
    let nvhs = [{x: 500, y: 50, w: 400, h: 200},{x: 1000, y: 50, w: 300, h: 150}, {x: 1500, y: 50, w: 400, h: 200}];
    
    let shavars = [{x: 500, y: 50, w: 400, h: 200},{x: 1000, y: 50, w: 300, h: 150}, {x: 1500, y: 50, w: 400, h: 200}];
    
    let lamps = [{x: 500, y: 50, w: 400, h: 200},{x: 1000, y: 50, w: 300, h: 150}, {x: 1500, y: 50, w: 400, h: 200}];
    
    function init() {
        
        /* baishin2 bairlal */
        xbaishin2 = 900;
        ybaishin2 = 260;

        /* car bairshil */
        Xcar = 1500;
        Ycar = 600;

        /* dog bairshil */ 
        Xdog = 1500;
        Ydog = 630;

        /* baishin bairlal  */
        xbaishin = 550;
        ybaishin = 450;

        /* lamp bairlal */
        xlamp = 480;
        ylamp = 550;

        /* buh oruulsan zurgin holboos */
        // land.src = 'P_land.png';
        //imgPe1.src = 'P_boy.png';
        //imgCar.src = 'P_car.png'; 
        //imgDog.src = 'P_dog.png';
        //imgStatu.src = 'P_Statu.png';

        
        /* land, zvlegnii hemjee */
        /*img2.height = 150;
        img2.width = 1100;*/
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        /* car hemjee */
        //imgCar.width = 400;
        //imgCar.height = 150;

        /* dog hemjee */ 
        //imgDog.width = 170;
        //imgDog.height = 120;

        /* baishin hemjee */
        //imgBaishin.height = 250;
        //imgBaishin.width = 300;

        /* baishin2 hemjee */
        //imgBaishin2.width = 300;
        //imgBaishin2.height = 450;

        /* Lamp hemjee */
        //imgLamp.width = 50;
        //imgLamp.height = 150;
    }

    init();

    function drawLands(){
        // if (lands.length != 0 && lands[0].x < 0){
        //     lands.shift();
        // }

        lands.forEach(element => {
            // console.log(element);
            if (!(element.x + element.w < 0 && element.x > canvas.width)){
                ctx.drawImage(land, element.x, element.y, element.w, element.h);
            }
        });


    }

    function drawClouds(){
        if (clouds.length != 0 && clouds[0].x < 0){
            clouds.shift();
        }

        clouds.forEach(element => {
            if (!(element.x + element.w < 0 && element.x > canvas.width)){
                ctx.drawImage(clouds, element.x, element.y, element.w, element.h);
            }
        });

        if (clouds.length < 3){
            let xPos = 1800 + Math.floor(Math.random() * 100);
            let yPos = Math.floor(Math.random() * 50);
            let w = Math.floor(300 + Math.random() * 100);
            let h = Math.floor(100 + Math.random() * 100);
            clouds.push({x: xPos, y: yPos, w: w, h: h})
        }
    }

    function drawDirts(){
        if (dirts.length != 0 && dirts[0].x < 0){
            dirts.shift();
        }   

        dirts.forEach(element => {
            if (!(element.x + element.w < 0 && element.x > canvas.width)){
                ctx.drawImage(dirt, element.x, element.y, element.w, element.h);
            }
        });

        if (dirts.length < 1){
            let xPos = 1800 + Math.floor(Math.random() * 100);
            let yPos = 700 + Math.floor(Math.random() * 50);
            let w = Math.floor(50 + Math.random() * 40);
            let h = Math.floor(50 + Math.random() * 20);
            dirts.push({x: xPos, y: yPos, w: w, h: h})
        }
    }

    function drawClouds(){
        if (clouds.length != 0 && clouds[0].x < 0){
            clouds.shift();
        }

        clouds.forEach(element => {
            if (!(element.x + element.w < 0 && element.x > canvas.width)){
                ctx.drawImage(cloud, element.x, element.y, element.w, element.h);
            }
        });

        if (clouds.length < 3){
            let xPos = 1800 + Math.floor(Math.random() * 100);
            let yPos = Math.floor(Math.random() * 50);
            let w = Math.floor(300 + Math.random() * 100);
            let h = Math.floor(100 + Math.random() * 100);
            clouds.push({x: xPos, y: yPos, w: w, h: h})
        }
    }

    function drawLamps(){
        if (lamps.length != 0 && lamps[0].x < 0){
            lamps.shift();
        }

        lamps.forEach(element => {
            if (!(element.x + element.w < 0 && element.x > canvas.width)){
                ctx.drawImage(lamppic, element.x, element.y, element.w, element.h);
            }
        });

        if (lamps.length < 3){
            let xPos = 1800 + Math.floor(Math.random() * 100);
            let yPos = Math.floor(Math.random() * 50);
            let w = Math.floor(300 + Math.random() * 100);
            let h = Math.floor(100 + Math.random() * 100);
            lamps.push({x: xPos, y: yPos, w: w, h: h})
        }
    }

    function drawBaishins(){
        if (baishins.length != 0 && baishins[0].x < 0){
            baishins.shift();
        }

        baishins.forEach(element => {
            if (!(element.x + element.w < 0 && element.x > canvas.width)){
                ctx.drawImage(baishinpic, element.x, element.y, element.w, element.h);
            }
        });

        /* if (baishins.length < 3){
            let xPos = 1800 + Math.floor(Math.random() * 100);
            let yPos = Math.floor(Math.random() + 50);
            let w = Math.floor(300 + Math.random() * 100);
            let h = Math.floor(100 + Math.random() * 100);
            baishins.push({x: xPos, y: yPos, w: w, h: h})
        } */

    }

    function drawDogs(){
        if (dogs.length != 0 && dogs[0].x < 0){
            dogs.shift();
        }

        dogs.forEach(element => {
            if (!(element.x + element.w < 0 && element.x > canvas.width)){
                ctx.drawImage(dogpic, element.x, element.y, element.w, element.h);
            }
        });

        if (dogs.length < 3){
            let xPos = 1800 + Math.floor(Math.random() * 100);
            let yPos = Math.floor(Math.random() * 50);
            let w = Math.floor(300 + Math.random() * 100);
            let h = Math.floor(100 + Math.random() * 100);
            dogs.push({x: xPos, y: yPos, w: w, h: h})
        }
    }

    function drawShavars(){
        if (shavars.length != 0 && shavars[0].x < 0){
            shavars.shift();
        }

        shavars.forEach(element => {
            if (!(element.x + element.w < 0 && element.x > canvas.width)){
                ctx.drawImage(shavarpic, element.x, element.y, element.w, element.h);
            }
        });

        if (shavars.length < 3){
            let xPos = 1800 + Math.floor(Math.random() * 100);
            let yPos = Math.floor(Math.random() * 50);
            let w = Math.floor(300 + Math.random() * 100);
            let h = Math.floor(100 + Math.random() * 100);
            shavars.push({x: xPos, y: yPos, w: w, h: h})
        }
    }

    function drawNvhs(){
        if (nvhs.length != 0 && nvhs[0].x < 0){
            nvhs.shift();
        }

        nvhs.forEach(element => {
            if (!(element.x + element.w < 0 && element.x > canvas.width)){
                ctx.drawImage(nvhpic, element.x, element.y, element.w, element.h);
            }
        });

        if (nvhs.length < 3){
            let xPos = 1800 + Math.floor(Math.random() * 100);
            let yPos = Math.floor(Math.random() * 50);
            let w = Math.floor(300 + Math.random() * 100);
            let h = Math.floor(100 + Math.random() * 100);
            nvhs.push({x: xPos, y: yPos, w: w, h: h})
        }
    }
    
    setInterval(() => {

        // cloud movements
        clouds.forEach(element => {
            element.x -= 1;
        });

        dirts.forEach(element => {
            element.x -= 1;
        });

        lands.forEach(element => {
            element.x -= 2;
        })

        baishins.forEach(element => {
            element.x -= 1;
        });

        nvhs.forEach(element => {
            element.x -= 1;
        });

        dogs.forEach(element => {
            element.x -= 1;
        });

        lamps.forEach(element => {
            element.x -= 1;
        });

        shavars.forEach(element => {
            element.x -= 1;
        });


        ctx.clearRect(0, 0, canvas.width, canvas.height);

        drawClouds();
        drawDirts();
        drawLands();
        drawShavars();
        drawDogs();
        drawBaishins();
        drawLamps();
        drawNvhs();

        /* land orulsan heseg */
        ctx.drawImage(land, lands[0].x, lands[0].y, lands[0].height, lands[0].width);

        /* baishin orulsan hseg */
        ctx.drawImage(baishinpic, baishins[0].x, baishins[0].y, baishins.width, baishins.height);

        /* lamp oruulsan heseg */
        ctx.drawImage(lamppic, lamps[0].x, lamps[0].y, lamps[0].width, lamps[0].height);

        /* dog orulsan hseg */ 
        ctx.drawImage(dogpic, dogs[0].x, dogs[0].y, dogs.width, dogs.height);

        /* boy girl oruulsan ni */
        ctx.drawImage(imgPe1, boy.x, boy.y, boy.height, boy.width);



        
    }, 50);

    
    
</script>
</html>