<html>
<head>
    <meta name="viewport" content="width=device-width" >
    <link rel="stylesheet" type="text/css" href="css/rotation.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- <button onclick="startGame()" id="startButton">Restart</button>
    <input type="text" ; id="scoore" ; value=>
    <canvas id="cvs" width="20010" height="850" style="border:5px solid black;"></canvas> -->
    <canvas id="cvs"></canvas>
</body>
        
<script>
    window.addEventListener('resize', resizeCanvas, false);

    resizeCanvas();

    function resizeCanvas(){
        let canvas = document.getElementById("cvs");
        canvas.width = Math.max(window.innerWidth, window.innerHeight);
        canvas.height = Math.min(window.innerWidth, window.innerHeight);
    }

    
    let canvas = document.getElementById("cvs"), ctx = canvas.getContext("2d");
    ctx.fillStyle = "blue"; 
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    
    /* cloud */
    let cloud = new Image; cloud.src = 'P_cloud.png';

    /* shalbaag */
    let dirt = new Image; dirt.src = 'P_shavar.png';

    /* background ub zurag */
    let img1 = new Image;   
     
    /* zuleg zurag */
    let land = new Image; land.src = 'P_land.png';

    /* huuhed zurag*/
    let imgPe1 = new Image; imgPe1.src = 'P_boy.png';

    /* mashin zurag */
    let imgCar = new Image; imgCar.src = 'P_car.png';

    /* nohoi zurag */
    let imgDog = new Image; imgDog.src = 'P_dog.png';

    /* hushuu zurag */
    let imgStatu = new Image; imgStatu.src = 'P_Statu.png';

    /* bluesky zurag */
    let bluesky = new Image; bluesky.src = 'P_BlueSky.png';

    /* mongol ger */
    let Mongolger = new Image; Mongolger.src = 'P_Ger.png';

    imgShavar = new Image, imgNuh = new Image, imgBaishin = new Image, imgBaishin2 = new Image,
    imgLamp = new Image, imgGandan = new Image; 

    let clouds = [{x: 500, y: 20, w: 150, h: 80},{x: 750, y: 50, w: 120, h: 50}, {x: 950, y: 60, w: 100, h: 50}];
    let dirts = [{x: 1800, y: 700, w: 80, h: 80}];
    let boy = {x: 5, y: 0.6 * parseInt(canvas.height), height: 0.15 * parseInt(canvas.height), width: 0.2 * parseInt(canvas.height) * 1};
    let lands = [{x: 0, y: 0.77 * parseInt(canvas.height), h: 0.15 * parseInt(canvas.height), w: 1 * parseInt(canvas.height) * 1}, {x: parseInt(canvas.height), y: 0.77 * parseInt(canvas.height), h: 0.15 * parseInt(canvas.height), w: 1 * parseInt(canvas.height) * 1}];
    let blueskys = [{x: 250, y: 0.13 * parseInt(canvas.height), h: 0.65 * parseInt(canvas.height), w: 0.5 * parseInt(canvas.height) * 1}];
    let geruud = [{x: 650, y: 0.67 * parseInt(canvas.height), h: 0.1 * parseInt(canvas.height), w: 0.2 * parseInt(canvas.height) * 1}];
    function init() {

        ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    }

    init();

    function drawGeruud(){
        geruud.forEach(element => {
            if (!(element.x + element.w < 0 && element.x > canvas.width)){
                ctx.drawImage(Mongolger, element.x, element.y, element.w, element.h);
            }
        });        

        if (geruud.length < 1){
        }
    }

    function drawBlueskys(){
        blueskys.forEach(element => {
            if (!(element.x + element.w < 0 && element.x > canvas.width)){
                ctx.drawImage(bluesky, element.x, element.y, element.w, element.h);
            }
        });

        if (blueskys.length < 1){
            let xPos = 1800
        }
    }

    function drawLands(){
        //if (lands.length != 0 && lands[0].x < 0){
        //    lands.shift();
        //}

        lands.forEach(element => {
            // console.log(element);
            if (!(element.x + element.w < 0 && element.x > canvas.width)){
                ctx.drawImage(land, element.x, element.y, element.w, element.h);
            }
        });

        if (lands.length < 2){
            let xPos = 1800;
        }


    }


    function drawClouds(){
        if (clouds.length != 0 && clouds[0].x < 0){
            clouds.shift();
        }

        clouds.forEach(element => {
            if (!(element.x + element.w < 0 && element.x > canvas.width)){
                ctx.drawImage(cloud, element.x, element.y, element.w, element.h);
            }
        });

        if (clouds.length < 3){
            let xPos = 500 + Math.floor(Math.random() * 50);
            let yPos = Math.floor(Math.random() * 50);
            let w = Math.floor(150 + Math.random() * 50);
            let h = Math.floor(80 + Math.random() * 50);
            clouds.push({x: xPos, y: yPos, w: w, h: h})
        }
    }


    function drawDirts(){
        if (dirts.length != 0 && dirts[0].x < 0){
            dirts.shift();
        }   

        dirts.forEach(element => {
            if (!(element.x + element.w < 0 && element.x > canvas.width)){
                ctx.drawImage(dirt, element.x, element.y, element.w, element.h);
            }
        });

        if (dirts.length < 1){
            let xPos = 1800 + Math.floor(Math.random() * 100);
            let yPos = 700 + Math.floor(Math.random() * 50);
            let w = Math.floor(50 + Math.random() * 40);
            let h = Math.floor(20 + Math.random() * 20);
            dirts.push({x: xPos, y: yPos, w: w, h: h})
        }
    }
    
    setInterval(() => {

        // cloud movements
        clouds.forEach(element => {
            element.x -= 1;
        });

        dirts.forEach(element => {
            element.x -= 1;
        });

        lands.forEach(element => {
            element.x -= 2;
        })

        blueskys.forEach(element => {
            element.x -= 1;
        })

        geruud.forEach(element => {
            element.x -= 1;
        })

        ctx.clearRect(0, 0, canvas.width, canvas.height);
        

        /* baishin2 oruulsan hseg */
        //ctx.drawImage(imgBaishin2, xbaishin2, ybaishin2, imgBaishin2.width, imgBaishin2.height);

        /* baishin oruulsan heseg */
        //ctx.drawImage(imgBaishin, xbaishin, ybaishin, imgBaishin.width, imgBaishin.height)

        drawClouds();
        drawDirts();
        drawLands();
        drawBlueskys();
        drawGeruud();

        /* lamp oruulsan heseg */
        //ctx.drawImage(imgLamp, xlamp, ylamp, imgLamp.width, imgLamp.height);

        /* car orulsan hseg 
        ctx.drawImage(imgCar, Xcar, Ycar, imgCar.width, imgCar.height);*/

        /* dog orulsan hseg */ 
        //ctx.drawImage(imgDog, Xdog, Ydog, imgDog.width, imgDog.height);

        /* boy girl oruulsan ni */
        ctx.drawImage(imgPe1, boy.x, boy.y, boy.height, boy.width);

        
    }, 50);

    
    
</script>
</html>